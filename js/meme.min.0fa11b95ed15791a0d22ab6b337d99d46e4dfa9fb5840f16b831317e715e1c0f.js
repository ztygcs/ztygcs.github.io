const throttle=(fn,wait)=>{let inThrottle,lastFn,lastTime;return function(){const context=this,args=arguments;if(!inThrottle){fn.apply(context,args);lastTime=Date.now();inThrottle=true;}else{clearTimeout(lastFn);lastFn=setTimeout(function(){if(Date.now()-lastTime>=wait){fn.apply(context,args);lastTime=Date.now();}},Math.max(wait-(Date.now()-lastTime),0));}};};const delayTime=420;;changeMode();window.matchMedia('(prefers-color-scheme: dark)').addListener((e)=>{changeMode();});const themeSwitcher=document.getElementById('theme-switcher');if(themeSwitcher){themeSwitcher.addEventListener('click',(e)=>{e.preventDefault();if(getCurrentTheme()=="dark"){changeModeMeta('light');}else{changeModeMeta('dark');}
changeMode();storePrefers();});}
window.addEventListener('storage',function(event){if(event.newValue==='dark'){changeModeMeta('dark');}else{changeModeMeta('light');}
changeMode();});function getCurrentTheme(){return JSON.parse(window.getComputedStyle(document.documentElement,null).getPropertyValue("--theme-name"));}
function changeMode(){const isDark=getCurrentTheme()==='dark';const themeColor=isDark?'#1c1c21':'#fff';document.querySelector('meta[name="theme-color"]').setAttribute('content',themeColor);const oldChromaTheme=isDark?'chroma':'chroma-dark';const newChromaTheme=isDark?'chroma-dark':'chroma';[].slice.apply(document.getElementsByClassName(oldChromaTheme)).forEach((e)=>{e.className=newChromaTheme;});}
function storePrefers(){window.localStorage.setItem('theme',getCurrentTheme());};const langSwitcher=document.getElementById('lang-switcher');if(langSwitcher){const langs=document.getElementById('langs');langSwitcher.addEventListener('mouseover',function(){langs.style='display: block';});langSwitcher.addEventListener('mouseout',function(){langs.style='display: none';});};document.querySelectorAll('table').forEach((e)=>{e.outerHTML=`<div class="table-container">${e.outerHTML}</div>`;});;